properties:
  AmendOptions:
    description: >
      Use the `AmendOptions` container to specify billing options, such as
      invoice generation and when to process payments.
    properties:
      ApplicationOrder:
        description: >
          The priority order to apply credit memos and/or unapplied payments to
          an invoice. Possible item values are: `CreditMemo`,
          `UnappliedPayment`.


          **Note:**
            - This field is only available if you have the Invoice Settlement feature enabled and set the `X-Zuora-WSDL-Version` request header to `107` or later.
            - This field is valid only if the `applyCredit` field is set to `true`.
            - If no value is specified for this field, the default priority order is used, ["CreditMemo", "UnappliedPayment"], to apply credit memos first and then apply unapplied payments.
            - If only one item is specified, only the items of the spedified type are applied to invoices. For example, if the value is `["CreditMemo"]`, only credit memos are used to apply to invoices.
        items:
          type: string
        type: array
      ApplyCredit:
        description: >
          Whether to automatically apply credit memos or unapplied payments, or
          both to an invoice.


          If the value is `true`, the credit memo or unapplied payment, or both
          will be automatically applied to the invoice. If no value is specified
          or the value is `false`, no action is taken.


          **Note**: This field is only available if you have the Invoice
          Settlement feature enabled and set the `X-Zuora-WSDL-Version` request
          header to `107` or later.
        type: boolean
      ApplyCreditBalance:
        description: ''
        type: boolean
      ElectronicPaymentOptions:
        $ref: ./ElectronicPaymentOptions.yaml
      ExternalPaymentOptions:
        $ref: ./ExternalPaymentOptions.yaml
      GenerateInvoice:
        description: >
          Determines whether to generate an invoice to immediately bill the
          customer for a new product or changes of Terms And Conditions. As a
          best practice, set this value to true to prevent any errors that might
          occur if the account has a balance.


          **Note:** 

          * Even if you do not include this field in the amend action, Zuora
          still parses this field with the default value - `true`, when
          processing the amend action. If you do not want to generate the
          invoice after creating the New Product or Term And Condition
          amendment, set the value of this field to `false` in the request.

          * If `EnablePreviewMode=true` is specified in the PreviewOptions
          container, then preview mode will be enabled and an invoice will not
          be generated, regardless of whether `GenerateInvoice` is specified as
          `true` or `false`.
        type: boolean
      InvoiceProcessingOptions:
        $ref: ./InvoiceProcessingOptions.yaml
      ProcessPayments:
        description: >
          Determines whether to collect payment against the invoice generated by
          the amend() call. 


          **Note:** 

          * Even if you do not include this field in the amend action, Zuora
          still parses this field with the default value, true, when processing
          the amend action. If you do not want to collect payment against the
          generated invoice after creating the New Product or Term And Condition
          amendment, set the value of this field to `false` in the request. 

          * If you have the [Invoice
          Settlement](https://knowledgecenter.zuora.com/Billing/Billing_and_Payments/Invoice_Settlement)
          feature enabled, Zuora does not support using this field to collect
          payments against invoices.


          If a temporary error that Zuora cannot create or submit a payment to
          the gateway is seen, Zuora will automatically retry the action to
          collect the payment.


          You can contact [Zuora Global Support](https://support.zuora.com/) to
          set the maximum number of retries that Zuora can perform. The number
          can range from 0 to 2 with a default value of 0. However, retrying the
          request can make the API call take longer than expected. Zuora does
          not guarantee the retry could be completed within the timeout limit. 


          **Note**: The retry mechanism does not support the preview mode of the
          amend() call.
        type: boolean
    type: object
  Amendments:
    description: >
      The `Amendment` object holds the changes that you want to make to the
      Subscription specified by the `SubscriptionId`, 

      including its `RatePlan`, `RatePlanCharge`, and `RatePlanChargeTier`.
    items:
      $ref: ./Amendment.yaml
    type: array
  PreviewOptions:
    description: >
      Use the `PreviewOptions` container to preview an amendment before
      committing its changes to a subscription. 

      You can use a preview to provide a quote of the new charges to a customer
      before the customer commits to the amended subscription. 

      For example, make an Amend call with an Amendment object that removes an
      existing rate plan, 

      another Amendment object that adds a new rate plan, and turn on the
      preview options.
    properties:
      EnablePreviewMode:
        description: ' Determines whether to create an amendment or display a preview of the change.'
        type: boolean
      IncludeExistingDraftInvoiceItems:
        description: ' Specifies whether to include draft invoice items in amendment previews.'
        type: boolean
      NumberOfPeriods:
        description: ' Indicates the number of invoice periods to show in a preview.'
        format: int32
        type: integer
      PreviewThroughTermEnd:
        description: ' Request to preview the charge through the end of the subscription term.'
        type: boolean
      PreviewType:
        description: ' The type of preview you will receive from a preview request.'
        type: string
    type: object
required:
  - Amendments
type: object
