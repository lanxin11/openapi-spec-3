post:
  summary: Subscribe
  operationId: Action_POSTsubscribe
  description: >
    This call performs many actions.  Use the subscribe call to bundle
    information required to create at least one new subscription.


    The call takes in an array of SubscribeRequests. Because it takes an array,
    you can submit a batch of subscription requests at once. You can create up
    to 50 different subscriptions in a single subscribe call.


    This is a combined call that you can use to perform all of the following
    tasks in a single call:


    * Create accounts

    * Create contacts

    * Create payment methods, including external payment options

    * Create an invoice for the subscription

    * Apply the first payment to a subscription


    ## Object Limits 

    50 objects are supported in a single call.




    ## Effective Date

    If the effective date is in the future, the invoices will not be generated,
    and there will be no invoice number.


    ## Subscription Name, Number, and ID 

    ### Subscription Name and Number 

    The subscription name is a unique identifier for the subscription. If you do
    not specify a value for the name, Zuora will create one automatically. The
    automatically generated value is known as the subscription number, such as
    `A-S00000080`. You cannot change the subscription name or number after
    creating the subscription. 


    * **Subscription name**: The name that you set for the subscription.

    * **Subscription number**: The value generated by Zuora automatically if you
    do not specify a subscription name. 


    Both the subscription name and number must be unique. If they are not, an
    error will occur.


    ### Subscription ID 

    The subscription ID is a 32-digit ID in the format 4028xxxx. This is also
    the unique identifier for a subscription. This value is automatically
    generated by the system and cannot be edited or updated, but it can be
    queried. One subscription can have only one subscription name or number, but
    it can have multiple IDs: Each version of a subscription has a different ID.


    The Subscription object contains the fields `OriginalId` and
    `PreviousSubscriptionId`. `OriginalId` is the ID for the first version of a
    subscription. `PreviousSubscriptionId` is the ID of the version created
    immediately prior to the current version.


    ## Subscription Preview 

    You can preview invoices that would be generated by the subscribe call. 


    When previewing invoices with the subscribe call, the correspondinig
    Contract Effective, Service Activation, or Customer Acceptance date is
    required if the subscription contains a charge with its trigger event being
    set as `ContractEffectiveDate`, `ServiceActivationDate`, or
    `CustomerAcceptanceDate`.


    To view taxation item data for invoices and credit memos in the subscription
    preview response, you need to set the `X-Zuora-WSDL-Version` request header
    to `120` or later.



    ## Invoice Subscriptions Separately

    If you have enabled the invoice subscriptions separately feature, a
    subscribe call will generate an invoice for each subscription for every
    subscription where the field `IsInvoiceSeparate` is set to `true`.


    If the invoice subscriptions separately feature is disabled, a subscribe
    call will generate a single invoice for all subscriptions.


    See [Invoicing Subscriptions
    Separately](https://knowledgecenter.zuora.com/BC_Subscription_Management/Subscriptions/B_Creating_Subscriptions/Invoicing_Subscriptions_Separately)
    for more information.


    ## Subscriptions and Draft Invoices 

    If a draft invoice that includes charges exists in a customer account, using
    the subscribe call to create a new subscription and generate an invoice will
    cause the new subscription to be added to the existing draft invoice. Zuora
    will then post the invoice. 


    ## When to Use Subscribe and Create Calls 

    You can use either the subscribe call or the create call to create the
    objects associated with a subscription (accounts, contacts, and so on).
    There are differences between these calls, however, and some situations are
    better for one or the other.


    ### Use the Subscribe Call 

    The subscribe call bundles up all the information you need for a
    subscription. Use the subscribe call to create new subscriptions when you
    have all the information you need.


    Subscribe calls cannot update BillTo, SoldTo, and Account objects. Payment
    information objects cannot be updated if there is an existing account ID in
    the call. These objects are not supported in a subscribe call.


    ### Use the Create Call 

    The create call is more useful when you want to develop in stages. For
    example, if you want to first create an account, then a contact, and so on.
    If you do not have all information available, use the create call. To create
    a subscription, you must activate the account from Draft status to Active by
    calling the subscribe call.
  tags:
    - Actions
  parameters:
    - $ref: ../components/parameters/GLOBAL_REQUEST_rejectUnknownFields.yaml
    - $ref: ../components/parameters/GLOBAL_HEADER_Zuora_Entity_Ids_Single.yaml
    - $ref: ../components/parameters/GLOBAL_HEADER_Zuora_Track_Id.yaml
    - $ref: ../components/parameters/GLOBAL_HEADER_X_Zuora_WSDL_Version.yaml
  requestBody:
    content:
      application/json; charset=utf-8:
        schema:
          $ref: ../components/schemas/ProxyActionsubscribeRequest.yaml
    required: true
  responses:
    '200':
      description: ''
      headers:
        RateLimit-Limit:
          description: >
            The request limit quota for the time window closest to exhaustion.
            See [rate
            limits](https://knowledgecenter.zuora.com/BB_Introducing_Z_Business/Policies/Concurrent_Request_Limits#Rate_limits)
            for more information.
          schema:
            type: string
        RateLimit-Remaining:
          description: >
            The number of requests remaining in the time window closest to quota
            exhaustion. See [rate
            limits](https://knowledgecenter.zuora.com/BB_Introducing_Z_Business/Policies/Concurrent_Request_Limits#Rate_limits)
            for more information.
          schema:
            type: number
        RateLimit-Reset:
          description: >
            The number of seconds until the quota resets for the time window
            closest to quota exhaustion. See [rate
            limits](https://knowledgecenter.zuora.com/BB_Introducing_Z_Business/Policies/Concurrent_Request_Limits#Rate_limits)
            for more information.
          schema:
            type: number
        Zuora-Request-Id:
          description: >
            The Zuora internal identifier of the API call. You cannot control
            the value of this header.
          schema:
            type: string
            minLength: 36
            maxLength: 36
        Zuora-Track-Id:
          description: >
            A custom identifier for tracing the API call. If you specified a
            tracing identifier in the request headers, Zuora returns the same
            tracing identifier. Otherwise, Zuora does not set this header.
          schema:
            type: string
            maxLength: 64
      content:
        application/json; charset=utf-8:
          schema:
            description: ''
            type: array
            items:
              $ref: ../components/schemas/SubscribeResult.yaml
        application/json:
          examples:
            response:
              value:
                - AccountNumber: A00000085
                  SubscriptionNumber: A-S00000213
                  InvoiceData:
                    - Invoice:
                        AccountId: 2c98901175c09d7a0175c0bee1240000
                        Amount: 141.93
                        AmountWithoutTax: 141.93
                        TaxAmount: 0
                    - InvoiceItem:
                        - ServiceStartDate: '2021-10-08'
                          ServiceEndDate: '2021-12-08'
                          ChargeAmount: 11.61
                          TaxAmount: 9.03
                          ChargeDescription: ''
                          ChargeName: Charge-1
                          ChargeNumber: C-00000212
                    - TaxationItemData:
                        - ExemptAmount: 0
                          InvoiceItemId: 402881547b216168017b289363dd148e
                          Jurisdiction: Country
                          LocationCode: 000-1
                          Name: taxName1
                          TaxAmount: 9.03
                          TaxCode: TAXCODE-1628472348524123456789012345678901234567890
                          TaxCodeDescription: null
                          TaxDate: '2021-10-08'
                          TaxRate: 0.1
                          TaxRateDescription: taxRateDescription1
                          TaxRateType: Percentage
    '401':
      description: ''
      headers:
        RateLimit-Limit:
          description: >
            The request limit quota for the time window closest to exhaustion.
            See [rate
            limits](https://knowledgecenter.zuora.com/BB_Introducing_Z_Business/Policies/Concurrent_Request_Limits#Rate_limits)
            for more information.
          schema:
            type: string
        RateLimit-Remaining:
          description: >
            The number of requests remaining in the time window closest to quota
            exhaustion. See [rate
            limits](https://knowledgecenter.zuora.com/BB_Introducing_Z_Business/Policies/Concurrent_Request_Limits#Rate_limits)
            for more information.
          schema:
            type: number
        RateLimit-Reset:
          description: >
            The number of seconds until the quota resets for the time window
            closest to quota exhaustion. See [rate
            limits](https://knowledgecenter.zuora.com/BB_Introducing_Z_Business/Policies/Concurrent_Request_Limits#Rate_limits)
            for more information.
          schema:
            type: number
        Zuora-Request-Id:
          description: >
            The Zuora internal identifier of the API call. You cannot control
            the value of this header.
          schema:
            type: string
            minLength: 36
            maxLength: 36
        Zuora-Track-Id:
          description: >
            A custom identifier for tracing the API call. If you specified a
            tracing identifier in the request headers, Zuora returns the same
            tracing identifier. Otherwise, Zuora does not set this header.
          schema:
            type: string
            maxLength: 64
        WWW-Authenticate:
          description: >
            The value of this header is:


            ```

            Basic realm=Zuora API, ZSession realm=Zuora API, Bearer realm=Zuora
            API

            ```
          schema:
            type: string
            enum:
              - >-
                Basic realm=Zuora API, ZSession realm=Zuora API, Bearer
                realm=Zuora API
      content:
        application/json; charset=utf-8:
          schema:
            $ref: ../components/schemas/ProxyUnauthorizedResponse.yaml
        application/json:
          examples:
            response:
              value:
                message: Authentication error
  x-code-samples:
    - lang: Curl
      source:
        $ref: ../code_samples/Curl/v1_action_subscribe/postundefined
    - lang: PHP
      source:
        $ref: ../code_samples/PHP/v1_action_subscribe/postundefined
    - lang: Java
      source:
        $ref: ../code_samples/Java/v1_action_subscribe/postundefined
    - lang: Python
      source:
        $ref: ../code_samples/Python/v1_action_subscribe/postundefined
    - lang: Ruby
      source:
        $ref: ../code_samples/Ruby/v1_action_subscribe/postundefined
